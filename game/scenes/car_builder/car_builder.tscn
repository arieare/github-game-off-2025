[gd_scene load_steps=27 format=3 uid="uid://dx13debmafo3q"]

[ext_resource type="PackedScene" uid="uid://csbxfrva4uedg" path="res://assets/model/car/body/spoiler.glb" id="1_5fpbc"]
[ext_resource type="Script" uid="uid://hfg6jxgxhwso" path="res://scenes/car_builder/car_builder.gd" id="1_l6iho"]
[ext_resource type="ArrayMesh" uid="uid://dfqwav1t6nv3c" path="res://assets/model/car/body/Untitled.obj" id="2_l6iho"]
[ext_resource type="Script" uid="uid://caqswnuau7vux" path="res://components/component_pickable_3d.gd" id="4_ae11m"]
[ext_resource type="Script" uid="uid://b334wtbk43hu" path="res://scenes/car_builder/car_builder_cam.gd" id="4_ppbh7"]
[ext_resource type="ArrayMesh" uid="uid://dc8uyg8ssqmfe" path="res://assets/model/car/motor/spoiler.obj" id="5_f07mb"]
[ext_resource type="Shader" uid="uid://dx8jkuhw2uv4s" path="res://assets/shader/vignette.gdshader" id="6_c8ap8"]
[ext_resource type="Script" uid="uid://oydvs2cunhty" path="res://components/component_droppable_3d.gd" id="8_cgd1u"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cgd1u"]
albedo_color = Color(0.4917335, 0.4917335, 0.4917335, 1)
roughness = 0.0

[sub_resource type="PlaneMesh" id="PlaneMesh_cgd1u"]
material = SubResource("StandardMaterial3D_cgd1u")
size = Vector2(30, 30)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ae11m"]
diffuse_mode = 3
specular_mode = 1
albedo_color = Color(0.8380404, 0.2675271, 0.2628369, 1)
roughness = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_f07mb"]
diffuse_mode = 3
specular_mode = 1
albedo_color = Color(0.24305603, 0.041579217, 0.042935, 1)
roughness = 0.0

[sub_resource type="Environment" id="Environment_5fpbc"]
tonemap_mode = 3
fog_enabled = true

[sub_resource type="SphereShape3D" id="SphereShape3D_f07mb"]

[sub_resource type="SphereShape3D" id="SphereShape3D_cgd1u"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xyx3j"]
albedo_color = Color(0.29803923, 0.45490196, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nue0s"]
shading_mode = 0
albedo_color = Color(0.2299127, 3.5840818e-05, 0.22991091, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ppbh7"]
shader = ExtResource("6_c8ap8")
shader_parameter/inner_radius = 0.5
shader_parameter/outer_radius = 0.9
shader_parameter/vignette_strength = 0.7
shader_parameter/dither_strength = 0.03
shader_parameter/vignette_color = Color(0.24296567, 0.24296582, 0.24296552, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_beu5r"]
albedo_color = Color(0.6745098, 0.38431373, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_xyx3j"]
material = SubResource("StandardMaterial3D_beu5r")
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_cgd1u"]
data = PackedVector3Array(-0.25, 0.25, 0.25, 0.25, 0.25, 0.25, -0.25, -0.25, 0.25, 0.25, 0.25, 0.25, 0.25, -0.25, 0.25, -0.25, -0.25, 0.25, 0.25, 0.25, -0.25, -0.25, 0.25, -0.25, 0.25, -0.25, -0.25, -0.25, 0.25, -0.25, -0.25, -0.25, -0.25, 0.25, -0.25, -0.25, 0.25, 0.25, 0.25, 0.25, 0.25, -0.25, 0.25, -0.25, 0.25, 0.25, 0.25, -0.25, 0.25, -0.25, -0.25, 0.25, -0.25, 0.25, -0.25, 0.25, -0.25, -0.25, 0.25, 0.25, -0.25, -0.25, -0.25, -0.25, 0.25, 0.25, -0.25, -0.25, 0.25, -0.25, -0.25, -0.25, 0.25, 0.25, 0.25, -0.25, 0.25, 0.25, 0.25, 0.25, -0.25, -0.25, 0.25, 0.25, -0.25, 0.25, -0.25, 0.25, 0.25, -0.25, -0.25, -0.25, 0.25, 0.25, -0.25, 0.25, -0.25, -0.25, -0.25, 0.25, -0.25, 0.25, 0.25, -0.25, -0.25, -0.25, -0.25, -0.25)

[sub_resource type="BoxMesh" id="BoxMesh_v04ey"]
size = Vector3(2, 0.5, 4)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_beu5r"]
data = PackedVector3Array(-1, 0.25, 2, 1, 0.25, 2, -1, -0.25, 2, 1, 0.25, 2, 1, -0.25, 2, -1, -0.25, 2, 1, 0.25, -2, -1, 0.25, -2, 1, -0.25, -2, -1, 0.25, -2, -1, -0.25, -2, 1, -0.25, -2, 1, 0.25, 2, 1, 0.25, -2, 1, -0.25, 2, 1, 0.25, -2, 1, -0.25, -2, 1, -0.25, 2, -1, 0.25, -2, -1, 0.25, 2, -1, -0.25, -2, -1, 0.25, 2, -1, -0.25, 2, -1, -0.25, -2, 1, 0.25, 2, -1, 0.25, 2, 1, 0.25, -2, -1, 0.25, 2, -1, 0.25, -2, 1, 0.25, -2, -1, -0.25, 2, 1, -0.25, 2, -1, -0.25, -2, 1, -0.25, 2, 1, -0.25, -2, -1, -0.25, -2)

[sub_resource type="BoxMesh" id="BoxMesh_beu5r"]
size = Vector3(0.3, 0.5, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4lr8s"]

[sub_resource type="BoxMesh" id="BoxMesh_cgd1u"]
material = SubResource("StandardMaterial3D_4lr8s")
size = Vector3(0.5, 0.5, 0.5)

[node name="CarBuilder" type="Node3D"]
script = ExtResource("1_l6iho")

[node name="BG" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_cgd1u")

[node name="Car" type="Node3D" parent="."]
visible = false

[node name="Body" type="Node3D" parent="Car"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.17773247, 0)

[node name="spoiler2" parent="Car/Body" instance=ExtResource("1_5fpbc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.82226753, -2)

[node name="Untitled" type="MeshInstance3D" parent="Car/Body"]
mesh = ExtResource("2_l6iho")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_ae11m")
surface_material_override/1 = SubResource("StandardMaterial3D_f07mb")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 4, 0)
projection = 2
fov = 87.4
size = 0.1
script = ExtResource("4_ppbh7")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5fpbc")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.55919284, 0.28354752, 0.7790404, 0, -0.93969256, 0.34202012, 0.8290375, -0.19125523, -0.52546936, 0, 0, 0)
shadow_enabled = true

[node name="Components" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.4525728, 0, -0.18047166)

[node name="ComponentPickable3D" type="StaticBody3D" parent="Components" node_paths=PackedStringArray("entity")]
script = ExtResource("4_ae11m")
entity = NodePath("..")
pickable_id = "motor"
metadata/_custom_type_script = "uid://caqswnuau7vux"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Components/ComponentPickable3D"]
visible = false
shape = SubResource("SphereShape3D_f07mb")

[node name="Spoiler" type="MeshInstance3D" parent="Components"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.28365314, 0, 1.591095)
mesh = ExtResource("5_f07mb")

[node name="Components2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.959527, 0, -1.39766)

[node name="ComponentPickable3D" type="StaticBody3D" parent="Components2" node_paths=PackedStringArray("entity")]
script = ExtResource("4_ae11m")
entity = NodePath("..")
pickable_id = "body"
metadata/_custom_type_script = "uid://caqswnuau7vux"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Components2/ComponentPickable3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.191041, 1.4062169)
shape = SubResource("SphereShape3D_cgd1u")

[node name="Spoiler" type="MeshInstance3D" parent="Components2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.28365314, 0, 1.591095)
mesh = ExtResource("2_l6iho")
surface_material_override/0 = SubResource("StandardMaterial3D_xyx3j")
surface_material_override/1 = SubResource("StandardMaterial3D_nue0s")

[node name="FXVignette" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_ppbh7")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SlotChassis" type="Node3D" parent="."]

[node name="SlotMotor2" type="Node3D" parent="SlotChassis"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.4642682, 0.09752655, -1.435909)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotChassis/SlotMotor2"]
mesh = SubResource("BoxMesh_xyx3j")

[node name="ComponentDroppable3D" type="StaticBody3D" parent="SlotChassis/SlotMotor2" node_paths=PackedStringArray("entity")]
script = ExtResource("8_cgd1u")
entity = NodePath("..")
accept_ids = ["motor"]
metadata/_custom_type_script = "uid://oydvs2cunhty"

[node name="CollisionShape3D" type="CollisionShape3D" parent="SlotChassis/SlotMotor2/ComponentDroppable3D"]
shape = SubResource("ConcavePolygonShape3D_cgd1u")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotChassis"]
mesh = SubResource("BoxMesh_v04ey")

[node name="ComponentDroppable3D" type="StaticBody3D" parent="SlotChassis" node_paths=PackedStringArray("entity")]
script = ExtResource("8_cgd1u")
entity = NodePath("..")
accept_ids = ["body"]
metadata/_custom_type_script = "uid://oydvs2cunhty"

[node name="CollisionShape3D" type="CollisionShape3D" parent="SlotChassis/ComponentDroppable3D"]
shape = SubResource("ConcavePolygonShape3D_beu5r")

[node name="SlotMotor" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.4806037, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotMotor"]
mesh = SubResource("BoxMesh_xyx3j")

[node name="ComponentDroppable3D" type="StaticBody3D" parent="SlotMotor" node_paths=PackedStringArray("entity")]
script = ExtResource("8_cgd1u")
entity = NodePath("..")
accept_ids = ["motor"]
metadata/_custom_type_script = "uid://oydvs2cunhty"

[node name="CollisionShape3D" type="CollisionShape3D" parent="SlotMotor/ComponentDroppable3D"]
shape = SubResource("ConcavePolygonShape3D_cgd1u")

[node name="SlotBattery1" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.3858266, 0, 0.47560716)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotBattery1"]
mesh = SubResource("BoxMesh_beu5r")

[node name="SlotBattery2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.0495496, 0, 0.47560716)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotBattery2"]
mesh = SubResource("BoxMesh_beu5r")

[node name="SlotBody" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.2428966, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotBody"]
mesh = SubResource("BoxMesh_v04ey")

[node name="ComponentDroppable3D2" type="StaticBody3D" parent="SlotBody" node_paths=PackedStringArray("entity")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.28789198, 0)
script = ExtResource("8_cgd1u")
entity = NodePath("..")
accept_ids = ["body"]
metadata/_custom_type_script = "uid://oydvs2cunhty"

[node name="CollisionShape3D" type="CollisionShape3D" parent="SlotBody/ComponentDroppable3D2"]
shape = SubResource("ConcavePolygonShape3D_beu5r")

[node name="SlotWheel1" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.6430335, 0, -1.6918758)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotWheel1"]
mesh = SubResource("BoxMesh_cgd1u")

[node name="SlotWheel2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.6799157, 0, -1.6918758)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotWheel2"]
mesh = SubResource("BoxMesh_cgd1u")

[node name="SlotWheel3" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.6430335, 0, -0.7925943)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotWheel3"]
mesh = SubResource("BoxMesh_cgd1u")

[node name="SlotWheel4" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.641119, 0, -0.7925943)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotWheel4"]
mesh = SubResource("BoxMesh_cgd1u")

[node name="SlotRoller1" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.4924316, 0, 1.7372208)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotRoller1"]
mesh = SubResource("BoxMesh_cgd1u")

[node name="SlotRoller2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.3807564, 0, 1.7360724)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotRoller2"]
mesh = SubResource("BoxMesh_cgd1u")

[node name="SlotRoller3" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.228672, 0, 1.7360724)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotRoller3"]
mesh = SubResource("BoxMesh_cgd1u")

[node name="SlotRoller4" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.0586677, 0, 1.7360724)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SlotRoller4"]
mesh = SubResource("BoxMesh_cgd1u")
